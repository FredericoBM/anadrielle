<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Host | Gerenciador Cloud</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;700;800&display=swap" rel="stylesheet">
    <style>
        :root { --rosa: #ffbcca; --verde: #a8bfa1; --slate: #334155; --bg: #fdfafb; --white: #ffffff; --glass: rgba(255, 255, 255, 0.85); }
        
        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; user-select: none; -webkit-user-select: none; }
        input, textarea { user-select: text !important; -webkit-user-select: text !important; }

        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: var(--bg); color: var(--slate); padding: 40px 20px; display: flex; justify-content: center; min-height: 100vh; overflow-x: hidden; }

        #custom-cursor { position: fixed; width: 20px; height: 20px; background: var(--rosa); border-radius: 50%; pointer-events: none; z-index: 9999; mix-blend-mode: multiply; transition: transform 0.1s ease; }

        .admin-card { background: var(--glass); backdrop-filter: blur(25px); width: 100%; max-width: 600px; padding: 40px; border-radius: 40px; box-shadow: 0 25px 50px rgba(0,0,0,0.05); border: 1px solid rgba(255,255,255,0.7); position: relative; z-index: 2; }
        
        h1 { margin-bottom: 30px; font-weight: 800; border-left: 6px solid var(--rosa); padding-left: 20px; letter-spacing: -1px; }
        
        form { display: flex; flex-direction: column; gap: 15px; margin-bottom: 40px; }
        label { font-size: 0.7rem; font-weight: 800; text-transform: uppercase; color: var(--verde); letter-spacing: 1px; }
        
        input, textarea { padding: 15px; border: 1px solid rgba(0,0,0,0.05); border-radius: 15px; outline: none; font-family: inherit; background: white; }
        input:focus, textarea:focus { border-color: var(--rosa); }

        .btn-main { padding: 18px; background: var(--slate); color: white; border: none; border-radius: 15px; font-weight: 800; cursor: none; transition: 0.3s; margin-top: 10px; }
        .btn-main:hover { background: var(--rosa); color: var(--slate); transform: translateY(-3px); }

        .list-item { background: white; padding: 15px; border-radius: 20px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.02); }
        .list-item img { width: 50px; height: 50px; border-radius: 10px; object-fit: cover; }
        
        .btn-delete { background: #fff0f0; color: #d32f2f; border: none; padding: 8px 15px; border-radius: 10px; font-weight: 800; font-size: 0.7rem; cursor: none; }
    </style>
</head>
<body oncontextmenu="return false">

    <div id="custom-cursor"></div>

    <div class="admin-card">
        <a href="index.html" style="text-decoration: none; color: var(--slate); font-weight: 800; font-size: 0.7rem; margin-bottom: 20px; display: block; opacity: 0.5;">← Voltar ao Início</a>
        <h1>Gerenciador Cloud</h1>
        
        <form id="box-form">
            <label>Categoria (Badge)</label>
            <input type="text" id="badge" placeholder="Ex: ENGENHARIA" required>
            
            <label>Título</label>
            <input type="text" id="titulo" placeholder="Título da Caixa" required>
            
            <label>Descrição</label>
            <textarea id="texto" rows="3" placeholder="Texto da descrição..." required></textarea>
            
            <label>Foto do Computador</label>
            <input type="file" id="fotoLocal" accept="image/*" required>
            
            <button type="submit" id="btn-submit" class="btn-main">Sincronizar na Nuvem ✦</button>
        </form>

        <label style="margin-bottom: 15px; display: block; opacity: 0.6;">Itens na Nuvem</label>
        <div id="lista-caixas"></div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc } 
        from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Suas configurações que você enviou
        const firebaseConfig = {
            apiKey: "AIzaSyAYHPLW8xv5-BI3CBrcExliepd0liPruCM",
            authDomain: "anadrielle-667a8.firebaseapp.com",
            projectId: "anadrielle-667a8",
            storageBucket: "anadrielle-667a8.firebasestorage.app",
            messagingSenderId: "249083749088",
            appId: "1:249083749088:web:06d593eb95303460f1e685"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        
        const form = document.getElementById('box-form');
        const lista = document.getElementById('lista-caixas');

        // Função para carregar a lista
        async function renderizarLista() {
            lista.innerHTML = "<p style='font-size:0.8rem; opacity:0.5;'>Acessando nuvem...</p>";
            try {
                const querySnapshot = await getDocs(collection(db, "caixas"));
                lista.innerHTML = "";
                querySnapshot.forEach((docSnap) => {
                    const item = docSnap.data();
                    const id = docSnap.id;
                    lista.innerHTML += `
                        <div class="list-item">
                            <div style="display:flex; align-items:center; gap:10px;">
                                <img src="${item.fotoData}">
                                <strong>${item.titulo}</strong>
                            </div>
                            <button class="btn-delete" onclick="deletarItem('${id}')">Excluir</button>
                        </div>`;
                });
            } catch (error) {
                console.error("Erro ao carregar:", error);
            }
        }

        // Adicionar novo item
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('btn-submit');
            btn.innerText = "Enviando...";
            btn.disabled = true;

            const file = document.getElementById('fotoLocal').files[0];
            const reader = new FileReader();

            reader.onloadend = async () => {
                try {
                    await addDoc(collection(db, "caixas"), {
                        badge: document.getElementById('badge').value,
                        titulo: document.getElementById('titulo').value,
                        texto: document.getElementById('texto').value,
                        fotoData: reader.result // Foto em Base64
                    });
                    alert("Sincronizado com sucesso!");
                    location.reload();
                } catch (error) {
                    alert("Erro ao enviar! A imagem pode ser muito grande (limite 1MB).");
                    btn.innerText = "Sincronizar na Nuvem ✦";
                    btn.disabled = false;
                }
            };

            if (file) {
                reader.readAsDataURL(file);
            }
        });

        // Função global para deletar
        window.deletarItem = async (id) => {
            if(confirm("Deseja excluir este item da nuvem permanentemente?")) {
                await deleteDoc(doc(db, "caixas", id));
                renderizarLista();
            }
        };

        renderizarLista();
    </script>

    <script>
        // Cursor customizado
        const cursor = document.getElementById('custom-cursor');
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });
    </script>
</body>
</html><!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Host | Gerenciador Cloud</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;700;800&display=swap" rel="stylesheet">
    <style>
        :root { --rosa: #ffbcca; --verde: #a8bfa1; --slate: #334155; --bg: #fdfafb; --white: #ffffff; --glass: rgba(255, 255, 255, 0.85); }
        
        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; user-select: none; -webkit-user-select: none; }
        input, textarea { user-select: text !important; -webkit-user-select: text !important; }

        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: var(--bg); color: var(--slate); padding: 40px 20px; display: flex; justify-content: center; min-height: 100vh; overflow-x: hidden; }

        #custom-cursor { position: fixed; width: 20px; height: 20px; background: var(--rosa); border-radius: 50%; pointer-events: none; z-index: 9999; mix-blend-mode: multiply; transition: transform 0.1s ease; }

        .admin-card { background: var(--glass); backdrop-filter: blur(25px); width: 100%; max-width: 600px; padding: 40px; border-radius: 40px; box-shadow: 0 25px 50px rgba(0,0,0,0.05); border: 1px solid rgba(255,255,255,0.7); position: relative; z-index: 2; }
        
        h1 { margin-bottom: 30px; font-weight: 800; border-left: 6px solid var(--rosa); padding-left: 20px; letter-spacing: -1px; }
        
        form { display: flex; flex-direction: column; gap: 15px; margin-bottom: 40px; }
        label { font-size: 0.7rem; font-weight: 800; text-transform: uppercase; color: var(--verde); letter-spacing: 1px; }
        
        input, textarea { padding: 15px; border: 1px solid rgba(0,0,0,0.05); border-radius: 15px; outline: none; font-family: inherit; background: white; }
        input:focus, textarea:focus { border-color: var(--rosa); }

        .btn-main { padding: 18px; background: var(--slate); color: white; border: none; border-radius: 15px; font-weight: 800; cursor: none; transition: 0.3s; margin-top: 10px; }
        .btn-main:hover { background: var(--rosa); color: var(--slate); transform: translateY(-3px); }

        .list-item { background: white; padding: 15px; border-radius: 20px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.02); }
        .list-item img { width: 50px; height: 50px; border-radius: 10px; object-fit: cover; }
        
        .btn-delete { background: #fff0f0; color: #d32f2f; border: none; padding: 8px 15px; border-radius: 10px; font-weight: 800; font-size: 0.7rem; cursor: none; }
    </style>
</head>
<body oncontextmenu="return false">

    <div id="custom-cursor"></div>

    <div class="admin-card">
        <a href="index.html" style="text-decoration: none; color: var(--slate); font-weight: 800; font-size: 0.7rem; margin-bottom: 20px; display: block; opacity: 0.5;">← Voltar ao Início</a>
        <h1>Gerenciador Cloud</h1>
        
        <form id="box-form">
            <label>Categoria (Badge)</label>
            <input type="text" id="badge" placeholder="Ex: ENGENHARIA" required>
            
            <label>Título</label>
            <input type="text" id="titulo" placeholder="Título da Caixa" required>
            
            <label>Descrição</label>
            <textarea id="texto" rows="3" placeholder="Texto da descrição..." required></textarea>
            
            <label>Foto do Computador</label>
            <input type="file" id="fotoLocal" accept="image/*" required>
            
            <button type="submit" id="btn-submit" class="btn-main">Sincronizar na Nuvem ✦</button>
        </form>

        <label style="margin-bottom: 15px; display: block; opacity: 0.6;">Itens na Nuvem</label>
        <div id="lista-caixas"></div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc } 
        from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Suas configurações que você enviou
        const firebaseConfig = {
            apiKey: "AIzaSyAYHPLW8xv5-BI3CBrcExliepd0liPruCM",
            authDomain: "anadrielle-667a8.firebaseapp.com",
            projectId: "anadrielle-667a8",
            storageBucket: "anadrielle-667a8.firebasestorage.app",
            messagingSenderId: "249083749088",
            appId: "1:249083749088:web:06d593eb95303460f1e685"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        
        const form = document.getElementById('box-form');
        const lista = document.getElementById('lista-caixas');

        // Função para carregar a lista
        async function renderizarLista() {
            lista.innerHTML = "<p style='font-size:0.8rem; opacity:0.5;'>Acessando nuvem...</p>";
            try {
                const querySnapshot = await getDocs(collection(db, "caixas"));
                lista.innerHTML = "";
                querySnapshot.forEach((docSnap) => {
                    const item = docSnap.data();
                    const id = docSnap.id;
                    lista.innerHTML += `
                        <div class="list-item">
                            <div style="display:flex; align-items:center; gap:10px;">
                                <img src="${item.fotoData}">
                                <strong>${item.titulo}</strong>
                            </div>
                            <button class="btn-delete" onclick="deletarItem('${id}')">Excluir</button>
                        </div>`;
                });
            } catch (error) {
                console.error("Erro ao carregar:", error);
            }
        }

        // Adicionar novo item
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('btn-submit');
            btn.innerText = "Enviando...";
            btn.disabled = true;

            const file = document.getElementById('fotoLocal').files[0];
            const reader = new FileReader();

            reader.onloadend = async () => {
                try {
                    await addDoc(collection(db, "caixas"), {
                        badge: document.getElementById('badge').value,
                        titulo: document.getElementById('titulo').value,
                        texto: document.getElementById('texto').value,
                        fotoData: reader.result // Foto em Base64
                    });
                    alert("Sincronizado com sucesso!");
                    location.reload();
                } catch (error) {
                    alert("Erro ao enviar! A imagem pode ser muito grande (limite 1MB).");
                    btn.innerText = "Sincronizar na Nuvem ✦";
                    btn.disabled = false;
                }
            };

            if (file) {
                reader.readAsDataURL(file);
            }
        });

        // Função global para deletar
        window.deletarItem = async (id) => {
            if(confirm("Deseja excluir este item da nuvem permanentemente?")) {
                await deleteDoc(doc(db, "caixas", id));
                renderizarLista();
            }
        };

        renderizarLista();
    </script>

    <script>
        // Cursor customizado
        const cursor = document.getElementById('custom-cursor');
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });
    </script>
</body>
</html>
